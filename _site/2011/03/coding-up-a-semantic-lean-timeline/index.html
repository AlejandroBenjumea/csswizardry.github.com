<!DOCTYPE html>
<html lang=en>
<head>
    <meta charset=UTF-8>
    <meta name=viewport content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">
    
    <title>Coding up a semantic, lean timeline &ndash; CSS Wizardry</title>
    
    <link rel=stylesheet href=/css/csswizardry.min.css>
    <link href="http://fonts.googleapis.com/css?family=Ubuntu:300,500,300italic" rel=stylesheet>
    
    <link rel="shortcut icon" href=/icon.png>
    <link rel=apple-touch-icon-precomposed href=/icon.png>
    <meta name=apple-mobile-web-app-title content="inuit.css">
</head>
<body>

    <header class="page-head">
        <a href="/" class="logo">
            CSS Wizardry
        </a>
    </header>

    <section class="posts">
            <p>I absolutely love coding up the more semantic aspects of a build. Usually forms and tables, it's these massively semantic (read; lots of elements with very specific jobs) that I really love coming up against. They're not all that challenging, but they're very fun (to me at least--is that sad?!)</p>

<p>After <a href="http://twitter.com/walshybhoy">Séan</a> shared <a href="http://aboutus.ft.com/corporate-information/history/">the Financial Times' timeline</a> I got to wondering how I'd code my own (albeit massively more simple) timeline.</p>

<p>This is what I came up with: <a href="http://dl.dropbox.com/u/2629908/timeline/index.html">HTML/CSS timeline</a>.</p>

<h2>The markup</h2>

<p>The markup is amazingly simple. Semantically I used an <code>&lt;ol&gt;</code>. This was quite an obvious choice as this is an ordered list of events. I used one <code>id=""</code> and some supporting <code>datetime</code> attributes where known (some exact dates are unknown, therefore not included (hopefully you'll know your exact dates!)), and then that's it:</p>

<pre><code>&lt;code&gt;&lt;ol id="timeline"&gt;

  &lt;li&gt;
    &lt;time datetime="1990-07-04"&gt;July 1990&lt;/time&gt;
    &lt;p&gt;Born&lt;/p&gt;
  &lt;/li&gt;

  &lt;li&gt;
    &lt;time&gt;September 1994&lt;/time&gt;
    &lt;p&gt;Started first school&lt;/p&gt;
  &lt;/li&gt;

  &lt;li&gt;
    &lt;time&gt;September 1999&lt;/time&gt;
    &lt;p&gt;Started middle school&lt;/p&gt;
  &lt;/li&gt;

  &lt;li&gt;
    &lt;time&gt;September 2003&lt;/time&gt;
    &lt;p&gt;Started high school&lt;/p&gt;
  &lt;/li&gt;

  &lt;li&gt;
    &lt;time&gt;September 2006&lt;/time&gt;
    &lt;p&gt;Started 6th Form&lt;/p&gt;
  &lt;/li&gt;

  &lt;li&gt;
    &lt;time datetime="2007-11-19"&gt;November 2007&lt;/time&gt;
    &lt;p&gt;Registered csswizardry.com&lt;/p&gt;
  &lt;/li&gt;

  &lt;li&gt;
    &lt;time datetime="2008-07-14"&gt;July 2008&lt;/time&gt;
    &lt;p&gt;Joined Sense Internet as Web Developer&lt;/p&gt;
  &lt;/li&gt;

  &lt;li&gt;
    &lt;time datetime="2009-03-16"&gt;March 2009&lt;/time&gt;
    &lt;p&gt;Joined Twitter&lt;/p&gt;
  &lt;/li&gt;

  &lt;li&gt;
    &lt;time datetime="2010-01-11"&gt;January 2010&lt;/time&gt;
    &lt;p&gt;Joined Venturelab as Web Developer&lt;/p&gt;
  &lt;/li&gt;

  &lt;li&gt;
    &lt;time&gt;January 2011&lt;/time&gt;
    &lt;p&gt;Became a member of the Smashing Magazine Experts Panel&lt;/p&gt;
  &lt;/li&gt;

  &lt;li&gt;
    &lt;time datetime="2011-03-21"&gt;March 2011&lt;/time&gt;
    &lt;p&gt;Joined Sky as Senior UI Developer&lt;/p&gt;
  &lt;/li&gt;

&lt;/ol&gt;&lt;/code&gt;
</code></pre>

<p>I was initially marking the dates up as <code>&lt;b&gt;</code>s but as <a href="http://twitter.com/Renniks/">Mark</a> pointed out <a href="http://twitter.com/Renniks/status/47336115753070592">I could use the new HTML5 <code>&lt;time&gt;</code> element</a>.</p>

<h2>The CSS</h2>

<p>As far as basic styling goes, I won't insult your intelligence; I merely set some type styles and background colours on the list items.</p>

<p>The really interesting bits are the odd/even styling, the 'spine', the dot and arrow 'images' and the branches off the centre of the timeline. I put images in quotes because they're not actually images at all, they're <code>:before</code> and <code>:after</code> pseudo-elements.</p>

<h3>The spine</h3>

<p>The spine running down the timeline is actually an image and is applied as a background using the fantastic <a href="http://dummyimage.com/">Dummy Image</a>:</p>

<pre><code>&lt;code&gt;#timeline{
  &lt;mark&gt;background:url(http://dummyimage.com/1x1/f43059/f43059.gif) top center repeat-y;&lt;/mark&gt;
  width:820px;
  padding:50px 0;
  margin:0 auto 50px auto;
  overflow:hidden;
  list-style:none;
  position:relative;
}&lt;/code&gt;
</code></pre>

<h3>The arrow and dot</h3>

<p>The arrow and dot, as mentioned above, are actually pseudo-elements. Their CSS is:</p>

<pre><code>&lt;code&gt;#timeline:before, &lt;span class="code-comment"&gt;/* The dot */&lt;/span&gt;
#timeline:after{ &lt;span class="code-comment"&gt;/* The arrow */&lt;/span&gt;
  content:" ";
  width:10px;
  height:10px;
  display:block;
  background:#f43059;
  position:absolute;
  top:0;
  left:50%;
  margin-left:-5px;

  -moz-border-radius:20px;
  -webkit-border-radius:20px;
  border-radius:20px;
}
#timeline:after{
  margin-left:-7px;
  background:none;
  border:7px solid #f43059;
  border-color:#f43059 transparent transparent transparent;
  width:0;
  height:0;
  top:auto;
  bottom:-7px;

  -moz-border-radius:0;
  -webkit-border-radius:0;
  border-radius:0;
}
&lt;/code&gt;
</code></pre>

<p>Here we've created two empty pseudo-elements that are shaped like an arrow and a dot and then absolutely position them at the top and bottom of the ordered list. They sit over the top of the spine, giving the illusion of all being connected.</p>

<p>It's worth saying that I'm not actually a fan of <a href="http://jonrohan.me/guide/css/creating-triangles-in-css/">the border-arrow behaviour</a>, but this <em>is</em> an experimental piece.</p>

<h3>The branches</h3>

<p>The branches that span between the list items and the spine are, again, pseudo elements. They are 70px wide and 1px high and have a gradient background which transitions from the colour of the spine to the colour of the list items. The CSS powering those is:</p>

<pre><code>&lt;code&gt;#timeline li:before,
#timeline li:after{
  content:" ";
  width:70px;
  height:1px;
  background:#f43059;
  position:absolute;
  left:100%;
  top:50%;
  background:-moz-linear-gradient(0,#d8d566,#f43059);
  background:-webkit-gradient(linear,left top,right top,from(#d8d566),to(#f43059));
}&lt;/code&gt;
</code></pre>

<p>So by now we've added start and end points, a spine and branches to our timeline with no extra markup whatsoever. Lean!</p>

<h3>Odd/even styling</h3>

<p>The odd/even styling of each list item is achieved, as you might expect, using <code>nth-of-type()</code> selectors. What we do is move every even list item over the right of the <code>&lt;ol&gt;</code> and move its branch to attach to the spine accordingly:</p>

<pre><code>&lt;code&gt;#timeline li:nth-of-type(even){
  float:right;
  text-align:left;
}
#timeline li:nth-of-type(even):after{ &lt;span class="code-comment"&gt;/* Move branches */&lt;/span&gt;
  background:-moz-linear-gradient(0,#f43059,#d8d566);
  background:-webkit-gradient(linear,left top,right top,from(#f43059),to(#d8d566));
  left:auto;
  right:100%;
}&lt;/code&gt;
</code></pre>

<h2>CSS feature detection?</h2>

<p>This next bit I found quite cool, though a little unorthodox. I set the <code>&lt;li&gt;</code>s to have a negative <code>margin-top</code> so that they had a slightly overlapped effect on the timeline, so either side is not below the previous one, rather <em>next to</em> and <em>slightly</em> along-side it.</p>

<p>The problem I had here is that, in browsers that don't support <code>nth-of-type()</code> selectors, the list items bunched up, each one slightly covering the previous one.</p>

<p>What I did was use this:</p>

<pre><code>&lt;code&gt;#timeline li:nth-of-type(odd),
#timeline li:nth-of-type(even){
  margin:-10px 0 0 0;
}&lt;/code&gt;
</code></pre>

<p>Which basically says <em>if the browser supports <code>nth-of-type()</code> selectors then give the list items a negative <code>margin-top</code>.</em></p>

<p>Any browsers that don't support <code>nth-of-type()</code> selectors get the previously defined margin value for the list items, set here:</p>

<pre><code>&lt;code&gt;#timeline li{
  position:relative;
  clear:both;
  float:left;
  width:318px;
  padding:10px;
  background:#fef8c4;
  border:1px solid #d8d566;
  text-align:right;
  &lt;mark&gt;margin:0 0 10px 0;&lt;/mark&gt;

  -moz-border-radius:2px;
  -webkit-border-radius:2px;
  border-radius:2px;
  -moz-box-shadow:0 1px #fff inset;
  -webkit-box-shadow:0 1px #fff inset;
  box-shadow:0 1px #fff inset;
}&lt;/code&gt;
</code></pre>

<p>I guess you could call that a small kind of feature detection...?</p>

<p>However, whatever you call it, it means that IE8 users still get a pretty good experience, a linear, one column timeline with no <code>nth-of-type()</code> styling:</p>

<p><img src="http://csswizardry.com/wp-content/uploads/2011/03/ie8.jpg" alt="Timeline screenshot in IE8" /></p>

<p>IE7 however doesn't support pseudo-elements or <code>nth-of-type()</code> selectors, so they just get a single column list with no branches or dots/arrows but they do get a lonely spine...</p>

<h2>Final word</h2>

<p>So <a href="http://dl.dropbox.com/u/2629908/timeline/index.html">there we have it</a>, a super lean, semantic and progressively styled timeline in HTML and CSS and one image. No doubt you could make a completely imageless solution, but I'm personally not one for this 'never use images' phase that the industry seems to be going through…</p>


    </section>

    <footer class="page-foot">
        <p>&copy; 2012 <a href="http://twitter.com/csswizardry">Harry Roberts</a>.
        Built with <a href="http://inuitcss.com">inuit.css</a>
        and <a href="https://github.com/mojombo/jekyll/">Jekyll</a>.
    </footer>
    
</body>
</html>
